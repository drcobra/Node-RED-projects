# Live Brighton & Hove bus stop screen

## Use
To edit: http://localhost:1880

To view: http://localhost:1880/timetable/

## Install
Import clipboard in Node-RED

```
[{"id":"910c485d.79fc78","type":"http request","z":"91c01f02.079b48","name":"","method":"GET","ret":"txt","url":"http://m.buses.co.uk/stop.aspx?stopid=155089","tls":"","x":290,"y":40,"wires":[["3ef9f2d5.089cee"]]},{"id":"fbf5b9a0.75cf1","type":"inject","z":"91c01f02.079b48","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"x":130,"y":40,"wires":[["910c485d.79fc78"]]},{"id":"96d79ccc.856128","type":"debug","z":"91c01f02.079b48","name":"","active":false,"console":"false","complete":"true","x":950,"y":40,"wires":[]},{"id":"3ef9f2d5.089cee","type":"html","z":"91c01f02.079b48","name":"Buss stop","tag":"body div table tbody","ret":"html","as":"single","x":460,"y":40,"wires":[["a71201d3.ac08"]]},{"id":"ca209384.b80a","type":"http in","z":"91c01f02.079b48","name":"","url":"/timetable","method":"get","upload":false,"swaggerDoc":"","x":120,"y":180,"wires":[["43709c88.474d5c"]]},{"id":"ff2a3e89.7961e8","type":"template","z":"91c01f02.079b48","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n<meta http-equiv=\"refresh\" content=\"20\">\n<title>Timetable</title>\n<style type=\"text/css\">\nbody {\n\tfont-family: Verdana, Geneva, sans-serif;\n\tfont-size: 60px;\n\tfont-weight: normal;\n\tbackground-color: #000;\n\tcolor: #EBC231;\n}\n.rowTitle {\n\tcolor: #FFF;\n\tfont-weight: bold;\n}\n</style>\n</head>\n\n<body>\n<div align=\"center\">\n<table class=\"rowServiceDeparture\">\n<tr class=\"rowTitle\">\n<td class=\"colServiceName\">service&nbsp;&nbsp;&nbsp;</td>\n<td class=\"colDestination\">destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>\n<td class=\"colDepartureTime\">time</td>\n</tr>\n\n{{{payload}}}\n\n</table>\n</div>\n</body>\n</html>\n","output":"str","x":590,"y":180,"wires":[["456df2aa.5075dc"]]},{"id":"456df2aa.5075dc","type":"http response","z":"91c01f02.079b48","name":"","statusCode":"","headers":{},"x":830,"y":180,"wires":[]},{"id":"a71201d3.ac08","type":"function","z":"91c01f02.079b48","name":"","func":"var results = msg.payload[0];\nglobal.set('timetable1',results);\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":40,"wires":[["96d79ccc.856128"]]},{"id":"43709c88.474d5c","type":"function","z":"91c01f02.079b48","name":"","func":"var timetable1 = global.get('timetable1')||0;\nvar header = \"<html><head></head><body><table>\";\nvar footer = \"</table></body></html>\";\n//msg.timetable1 = timetable1;\nmsg.payload = header + timetable1 + footer;\nmsg.payload = timetable1;\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":180,"wires":[["ff2a3e89.7961e8"]]}]
```
